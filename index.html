<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Atomic – Formá tu criterio financiero</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* …tus estilos existentes… */

    /* ===== Video + Overlay ===== */
    #video-section {
      position: relative;
      padding: 60px 20px;
      text-align: center;
    }
    #video-section iframe {
      width: 100%;
      max-width: 1000px;
      height: 560px;
      filter: blur(8px);
    }
    #video-overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.85);
      padding: 2rem;
      border-radius: 8px;
      width: 90%;
      max-width: 360px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
      color: #FFF;
      z-index: 10;
    }
    #video-overlay h4 {
      margin-bottom: 1rem;
    }
    #video-overlay input {
      width: 100%; padding: .8rem; margin-bottom: .8rem;
      border: none; border-radius: 4px; font-size: 1rem;
    }
    #video-overlay button {
      width: 100%; padding: .8rem;
      border: none; border-radius: 4px;
      background: #A3F7BF; color: #000; font-weight: 600;
      cursor: pointer; transition: background .3s;
    }
    #video-overlay button:hover {
      background: #56C596;
    }

    /* ==== Responsive tweaks ==== */
    @media (max-width:768px) {
      #video-section iframe { height: 300px; }
    }
    @media (max-width:480px) {
      #video-section iframe { height: 200px; }
      #video-overlay { padding: 1rem; }
      #video-overlay input, #video-overlay button { padding: .6rem; }
    }

    /* === NUEVO: estilos para sección de cotizaciones === */
    #rates {
      display: flex;
      justify-content: center;
      gap: 2rem;
      background: #111;
      color: #FFF;
      padding: 2rem 1rem;
    }
    #rates .rate-item strong {
      display: inline-block;
      width: 80px;
    }
    @media (max-width: 480px) {
      #rates { flex-direction: column; align-items: center; }
    }
    /* === FIN NUEVO === */
  </style>
</head>
<body>
  <!-- …tu header, price wheel, secciones previas… -->

  <!-- Video Intro con Overlay -->
  <section id="video-section">
    <h3 style="color:#A3F7BF; font-size:2rem; margin-bottom:1rem;">Video Ilustrativo</h3>
    <iframe id="intro-video" src="https://www.youtube.com/embed/cP-nE5tmK2Y"
            frameborder="0" allowfullscreen loading="lazy"></iframe>
    <div id="video-overlay">
      <h4>Para ver el video, registrate</h4>
      <form id="registration-form">
        <input type="email" id="email" placeholder="Tu email" required>
        <input type="password" id="password" placeholder="Contraseña" required>
        <button type="submit">Registrarme</button>
      </form>
    </div>
  </section>

  <!-- === NUEVO: Sección de Cotizaciones del Dólar === -->
  <section id="rates">
    <div class="rate-item">
      <strong>Oficial:</strong> <span id="dolar-oficial">–</span>
    </div>
    <div class="rate-item">
      <strong>Blue:</strong> <span id="dolar-blue">–</span>
    </div>
    <div class="rate-item">
      <strong>MEP:</strong> <span id="dolar-mep">–</span>
    </div>
  </section>
  <!-- === FIN NUEVO === -->

  <!-- …el resto de tus secciones y footer… -->

  <script>
    // Si ya estás registrado, ocultamos el overlay al cargar
    if (localStorage.getItem('atomicUser')) {
      document.getElementById('video-overlay').style.display = 'none';
      document.getElementById('intro-video').style.filter = 'none';
    }

    document.getElementById('registration-form').addEventListener('submit', e => {
      e.preventDefault();
      // guardamos solo el email para simular registro
      localStorage.setItem('atomicUser', JSON.stringify({email: e.target.email.value}));
      // ocultamos overlay y quitamos blur
      document.getElementById('video-overlay').style.display = 'none';
      document.getElementById('intro-video').style.filter = 'none';
    });

    // ….tu código de price wheel, arbitraje, menú, etc. permanece igual….

    /* === NUEVO: Lógica para actualizar cotizaciones cada 60s === */
    async function actualizarCotizaciones() {
      try {
        const res = await fetch('https://api.bluelytics.com.ar/v2/latest');
        const data = await res.json();
        document.getElementById('dolar-oficial').textContent = data.oficial.value_sell.toFixed(2);
        document.getElementById('dolar-blue').textContent    = data.blue.value_sell.toFixed(2);
        document.getElementById('dolar-mep').textContent     = data.mep.value_sell.toFixed(2);
      } catch (err) {
        console.error('Error al obtener cotizaciones:', err);
      }
    }
    // Primera carga y luego cada minuto
    actualizarCotizaciones();
    setInterval(actualizarCotizaciones, 60_000);
    /* === FIN NUEVO === */
  </script>
</body>
</html>
